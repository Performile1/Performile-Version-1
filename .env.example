# Performile Platform Environment Variables
# Copy this file to .env.local for local development
# Configure these variables in Vercel dashboard for production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Supabase PostgreSQL Connection String
# Format: postgresql://postgres:[password]@[host]:[port]/[database]?pgbouncer=true
DATABASE_URL=postgresql://postgres.pelyxhiiavdaijnvbmip:[M3nv4df4n17!]@aws-1-eu-north-1.pooler.supabase.com:6543/postgres

# =============================================================================
# JWT AUTHENTICATION SECRETS
# =============================================================================
# Generate using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_here_32_bytes_minimum
JWT_REFRESH_SECRET=your_jwt_refresh_secret_here_32_bytes_minimum

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
VERCEL_ENV=production

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for CORS (comma-separated)
CORS_ALLOWED_ORIGINS=https://your-domain.vercel.app,https://performile.com

# =============================================================================
# FRONTEND CONFIGURATION (Optional)
# =============================================================================
# Override API URL if needed (usually not required for Vercel)
# VITE_API_URL=https://your-domain.vercel.app/api

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Rate limiting (requests per minute)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Session configuration
SESSION_TIMEOUT_MINUTES=15
REFRESH_TOKEN_EXPIRY_DAYS=7

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Database connection pool settings
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT_MS=30000
DB_POOL_CONNECTION_TIMEOUT_MS=2000

# =============================================================================
# MONITORING (Optional)
# =============================================================================
# SENTRY_DSN=your_sentry_dsn_here
# NEW_RELIC_LICENSE_KEY=your_new_relic_key_here

# =============================================================================
# EMAIL CONFIGURATION (for notifications)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@performile.com

# =============================================================================
# FILE UPLOAD CONFIGURATION (Vercel)
# =============================================================================
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads

# =============================================================================
# SECURITY CONFIGURATION (Node.js crypto)
# =============================================================================
PASSWORD_MIN_LENGTH=8
PBKDF2_ITERATIONS=10000
SALT_LENGTH=16

# =============================================================================
# TRUSTSCORE CALCULATION SETTINGS
# =============================================================================
TRUSTSCORE_CACHE_TTL=3600
TRUSTSCORE_MIN_REVIEWS=5

# =============================================================================
# SUBSCRIPTION SETTINGS (if using Stripe)
# =============================================================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# DEVELOPMENT/TESTING
# =============================================================================
SEED_DATABASE=false
ENABLE_DEBUG_ROUTES=false

# Generate JWT secrets with:
# node -e "console.log('JWT_SECRET=' + require('crypto').randomBytes(32).toString('hex'))"
# node -e "console.log('JWT_REFRESH_SECRET=' + require('crypto').randomBytes(32).toString('hex'))"
